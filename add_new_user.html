<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="min.css">
    <script defer src="./app.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="./Images/Emerging tech logo.jpg">
    <script defer src="./min.js"></script>
    <script defer src="./app.js" ></script>
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script  src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.17.2/firebase-app.js"></script>
    <script  src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.17.2/firebase-database.js"></script>
    <script>
        const firebaseConfig = {
          apiKey: "AIzaSyBgqY1_sBCx0FqO0sbH5nrjifH3uu-NNPI",
          authDomain: "emerging-tech-68263.firebaseapp.com",
          databaseURL: "https://emerging-tech-68263-default-rtdb.firebaseio.com",
          projectId: "emerging-tech-68263",
          storageBucket: "emerging-tech-68263.appspot.com",
          messagingSenderId: "384544810852",
          appId: "1:384544810852:web:04125faee1e8a65981bc71",
          measurementId: "G-QM7M7ZGYFP"
        };
      
        //Initialize Firebase
        // const app  = initializeApp(firebaseConfig);      
         firebase.initializeApp(firebaseConfig);
        // const analytics = getAnalytics(app);
      </script>
    
    <title>Emerging Tech</title>
</head>
<body>
    <nav id="nav">
        <div>
            <img width="60px" height="60px" src="./Images/Emerging_tech_logo-removebg-preview.png" alt="emerging tech logo">
            <div>
                <h2 id="title">Emerging Tech</h2>
                <p id="sub-title"><b>Works & Services</b></p>
            </div>
        </div>
        <div style="width: 15%; position: relative; right: 15%; display: flex; flex-direction: column;">
            
          
            <!-- <h1><span id="hours-container"></span><span id="mints-container"><sup style="font-size: 16px;" id="am-pm"></sup></h1> -->
                <h3 id="day-container"></h3>
                <sup style="font-size: 13px;"> <b> <span id="date-container"></span>-<span id="month-container"></span>-<span id="year-container"></span></b></sup>

        </div>
        <div>
            <b><span id="user-name"></span></b>
            <!-- <span id="role">Admin</span> -->
        </div>
        <div>
        <div>
           <button id="menu-btn"><img id="menu-btn-img" width="32px" height="32px" src="./Images/menu.png" alt=""></button>
           <div id="nav-container">
            <button id="close-btn"><img width="20px" height="20px" src="./Images/close-window-24.png" alt="cloase icon"></button>
            <ul>
                <!-- <button id="admin-user">Login as Admin</button> -->
                <button style="display: none;" id="user-login">Login as User</button>
                <button onclick="stockReport()">Home</button> 
                <button onclick="PVCStock()" class="hidden-btn">PVC Stock</button>
                <button onclick="ROStock()" class="hidden-btn">RO Stock</button>
               <button onclick="electricalStock()" class="hidden-btn">Electrical Stock</button>
               <button onclick="issuedItems();">Issued Items Details</button>
               <button id="issue-items" disabled onclick="issueStock();">Issue Items</button>
               <button id="returned-items" disabled onclick="returnedStock()">Add to Stock</button>
               <button id="back-to-store" disabled onclick="retrunedItemsStore()">Returned to Store </button>
               <button onclick="addNewItems()" id="add-new-items" disabled="disabled">Add New Items</button>
               <button id="add-new-user" onclick="addUserPage()" disabled="disabled">Add User</button>
               <button onclick="logoutUser()" id="logout-user">Logout</button>

           </ul>
            <!-- <button></button> -->
           </div>
        </div>
    </nav>
    <div id="new-user-container">
        <div>
            <h2>Add New User</h2>
            <form onsubmit="event.preventDefault()" action="">
                <table cellspacing="10px">
                    <tr>
                        <td>ID:</td>
                        <td><input readonly required placeholder="" id="userID" class="new-pvc" type="text"></td>
                        <td>Name:</td>
                        <td><input required placeholder="Enter user name" class="new-pvc" type="text" name="" id="userName"></td>
                    </tr>
                    <tr>
                        <td>Email:</td>
                        <td><input required placeholder="Enter user email" class="new-pvc" type="email" name="" id="userEmail"></td>
                        <td>Status:</td>
                        <td>
                            <!-- <input value="User" readonly class="new-pvc" type="text" name="" id="userStatus"> -->
                            <select class="new-pvc" name="" id="userType">
                                <option value="">Select Type</option>
                                <option value="User">User</option>
                                <option value="Admin">Admin</option>
                            </select>
                        </td>

                    </tr>
                </table>
                <input onclick="addNewUser()" class="new-item-btn" value="Add" type="submit" name="" id="">
            </form>
        </div>
    </div>
</body>
</html>

<script>
    $(document).ready(function(){
        $('#menu-btn').click(function(){
  $('#nav-container').show('slow');
});

$('#close-btn').click(function(){
  $('#nav-container').hide('slow');
})
    })

    firebase.database().ref('Users').on('value', async function(snapshot){
        let response = await snapshot.val();
        let userID = document.getElementById('userID');
        let ID = response.length + 1;
        userID.value = `ET-000${ID}`;
        
    })
</script>